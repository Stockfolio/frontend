{"ast":null,"code":"var BASE_URL=\"http://localhost:3001/transactions\";var setTransactions=function setTransactions(transactions){return{type:\"GET_TRANSACTIONS\",payload:transactions};};var getTransactionsFromDB=function getTransactionsFromDB(){return function(dispatch){var user=JSON.parse(localStorage.user);var config={method:\"GET\",headers:{Authorization:\"Bearer \".concat(localStorage.token)}};fetch(BASE_URL,config).then(function(res){return res.json();}).then(function(transactionData){var userTransactions=transactionData.filter(function(transaction){return transaction.user.id===user;});dispatch(setTransactions(userTransactions));}).catch(function(error){return console.log(error);});};};var postTransactionToDB=function postTransactionToDB(stockPrice,stockQuantity,userId,stockId){return function(dispatch){var config={method:\"POST\",headers:{Authorization:\"Bearer \".concat(localStorage.token),Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({price:stockPrice,quantity:stockQuantity,user_id:userId,stock_id:stockId})};fetch(BASE_URL,config).then(function(res){return res.json();}).then(function(postData){return console.log(postData);}).catch(function(error){return console.log(error);});};};export default{getTransactionsFromDB:getTransactionsFromDB,postTransactionToDB:postTransactionToDB};","map":{"version":3,"sources":["/Users/hamidoudiallo/Desktop/react_projects/portfolio_stocks/frontend/src/redux/actions/purchaseActions.js"],"names":["BASE_URL","setTransactions","transactions","type","payload","getTransactionsFromDB","dispatch","user","JSON","parse","localStorage","config","method","headers","Authorization","token","fetch","then","res","json","transactionData","userTransactions","filter","transaction","id","catch","error","console","log","postTransactionToDB","stockPrice","stockQuantity","userId","stockId","Accept","body","stringify","price","quantity","user_id","stock_id","postData"],"mappings":"AAAA,GAAMA,CAAAA,QAAQ,CAAG,oCAAjB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,YAAD,QAAmB,CAC1CC,IAAI,CAAE,kBADoC,CAE1CC,OAAO,CAAEF,YAFiC,CAAnB,EAAxB,CAKA,GAAMG,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAM,UAACC,QAAD,CAAc,CACjD,GAAIC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACH,IAAxB,CAAX,CACA,GAAII,CAAAA,MAAM,CAAG,CACZC,MAAM,CAAE,KADI,CAEZC,OAAO,CAAE,CACRC,aAAa,kBAAYJ,YAAY,CAACK,KAAzB,CADL,CAFG,CAAb,CAOAC,KAAK,CAAChB,QAAD,CAAWW,MAAX,CAAL,CACEM,IADF,CACO,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADP,EAEEF,IAFF,CAEO,SAACG,eAAD,CAAqB,CAC1B,GAAIC,CAAAA,gBAAgB,CAAGD,eAAe,CAACE,MAAhB,CACtB,SAACC,WAAD,QAAiBA,CAAAA,WAAW,CAAChB,IAAZ,CAAiBiB,EAAjB,GAAwBjB,IAAzC,EADsB,CAAvB,CAGAD,QAAQ,CAACL,eAAe,CAACoB,gBAAD,CAAhB,CAAR,CACA,CAPF,EAQEI,KARF,CAQQ,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EARR,EASA,CAlB6B,EAA9B,CAoBA,GAAMG,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,UAAD,CAAaC,aAAb,CAA4BC,MAA5B,CAAoCC,OAApC,QAAgD,UAC3E3B,QAD2E,CAEvE,CACJ,GAAIK,CAAAA,MAAM,CAAG,CACZC,MAAM,CAAE,MADI,CAEZC,OAAO,CAAE,CACRC,aAAa,kBAAYJ,YAAY,CAACK,KAAzB,CADL,CAERmB,MAAM,CAAE,kBAFA,CAGR,eAAgB,kBAHR,CAFG,CAOZC,IAAI,CAAE3B,IAAI,CAAC4B,SAAL,CAAe,CACpBC,KAAK,CAAEP,UADa,CAEpBQ,QAAQ,CAAEP,aAFU,CAGpBQ,OAAO,CAAEP,MAHW,CAIpBQ,QAAQ,CAAEP,OAJU,CAAf,CAPM,CAAb,CAcAjB,KAAK,CAAChB,QAAD,CAAWW,MAAX,CAAL,CACEM,IADF,CACO,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADP,EAEEF,IAFF,CAEO,SAACwB,QAAD,QAAcd,CAAAA,OAAO,CAACC,GAAR,CAAYa,QAAZ,CAAd,EAFP,EAGEhB,KAHF,CAGQ,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAHR,EAIA,CArB2B,EAA5B,CAuBA,cAAe,CACdrB,qBAAqB,CAArBA,qBADc,CAEdwB,mBAAmB,CAAnBA,mBAFc,CAAf","sourcesContent":["const BASE_URL = \"http://localhost:3001/transactions\";\n\nconst setTransactions = (transactions) => ({\n\ttype: \"GET_TRANSACTIONS\",\n\tpayload: transactions,\n});\n\nconst getTransactionsFromDB = () => (dispatch) => {\n\tlet user = JSON.parse(localStorage.user);\n\tlet config = {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${localStorage.token}`,\n\t\t},\n\t};\n\n\tfetch(BASE_URL, config)\n\t\t.then((res) => res.json())\n\t\t.then((transactionData) => {\n\t\t\tlet userTransactions = transactionData.filter(\n\t\t\t\t(transaction) => transaction.user.id === user\n\t\t\t);\n\t\t\tdispatch(setTransactions(userTransactions));\n\t\t})\n\t\t.catch((error) => console.log(error));\n};\n\nconst postTransactionToDB = (stockPrice, stockQuantity, userId, stockId) => (\n\tdispatch\n) => {\n\tlet config = {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${localStorage.token}`,\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tprice: stockPrice,\n\t\t\tquantity: stockQuantity,\n\t\t\tuser_id: userId,\n\t\t\tstock_id: stockId,\n\t\t}),\n\t};\n\tfetch(BASE_URL, config)\n\t\t.then((res) => res.json())\n\t\t.then((postData) => console.log(postData))\n\t\t.catch((error) => console.log(error));\n};\n\nexport default {\n\tgetTransactionsFromDB,\n\tpostTransactionToDB,\n};\n"]},"metadata":{},"sourceType":"module"}